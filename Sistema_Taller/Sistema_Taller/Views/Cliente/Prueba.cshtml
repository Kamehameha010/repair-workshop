
@{
    ViewBag.Title = "Prueba";
}



<h2>Prueba</h2>


    @Html.Label("hola");
    <input type="text" value="" id="id" />
    <input type="button" value="dar valor" onclick="document.getElementById('id').value = pID()" />

    <input type="button" value="fetch" onclick="borrar()" />
<div class="row">
    <div class="col-md-12">
        <input type="hidden" id="id" />
        <div class="row">
            @Html.DisplayName("Nombre")<br />
            @Html.TextBox("Nombre")
        </div>
        <div class="row">
            @Html.DisplayName("Apellidos")<br />
            @Html.TextBox("Apellidos")
        </div>
        <div class="row">
            @Html.DisplayName("Cedula")<br />
            @Html.TextBox("Cedula")
        </div>
        <div class="row">
            @Html.DisplayName("Telefono")<br />
            @Html.TextBox("Telefono")
        </div>
        <div class="row">
                @Html.DisplayName("Correo")<br />
                @Html.TextBox("Correo")
        </div>
        

        <input type="button" value="tete" onclick="escribir()" />
    </div>
</div>

<div id="ress">

</div>

@section Scripts{



    <script type="text/javascript">



        var pID = () => {
            let p = location.search;
            let e = p.split("=")
            return e[1];
        }

        function borrar() {
            let url = "/Cliente/Reporte"
            let dato = {
                id: document.getElementById("id").value
            }

            fetch(url, {
                method: 'POST',
                body: JSON.stringify(dato),
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                }
            }).then(response => {
                if (response.ok)
                    return response.json()
                else
                    throw new Error("Ha ocurrido un error");

            }).then(data => {
                var res = 
                '<div class="row">\
                    <div class="col-md-12">\
                        <input type="hidden" id="id" />\
                        <div>\
                            <label>Nombre</label>\
                            <input type="text" value="'+data.Nombre+'" id="Nombre" />\
                         </div>\
                        <div>\
                            <label>Apellidos</label>\
                            <input type="text" value="'+data.Apellidos+'" id="Apellidos" />\
                         </div>\
                        <div>\
                            <label>Cedula</label>\
                            <input type="text" value="'+data.Cedula+'" id="Cedula" />\
                         </div>\
                        <div>\
                            <label>Telefono</label>\
                            <input type="text" value="'+data.Telefono+'" id="Telefono" />\
                         </div>\
                        <div>\
                            <label>Correo</label>\
                            <input type="text" value="'+data.Correo+'" id="Correo" />\
                         </div>\
                    </div>\
                </div>';

                document.getElementById("ress").innerHTML = res;
            }).catch(error => {
                alert(error)
            })

        }
    </script>
}